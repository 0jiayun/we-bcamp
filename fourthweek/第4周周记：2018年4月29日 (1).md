## # QG第4周周记：2018年4月29日

## 生活随记
就是想水7个字...

## 一周总结
>### 通过完成登录注册作业学习了： 
**1**.页面输入数据到到后台的utf-8转换。


>String userNmae=String(req.getParameter("userName").getBytes("iso-8859-1"),"utf-8");

[乱码解决详解](https://www.cnblogs.com/shihaiming/p/6898956.html)

* *密码框自己已经限制了不能输入中文* *

**2**. 将xxxServlet.java修改后，其对应的xxx.jsp文件运行报错 *The requested resource (/test1) is not available.*
 只需重新在web.xml中重新声明。

**3**.除了后台对输入数据验证，前段也需验证，通过js实现验证。

监听输入框输入变化示例代码： 
```<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>及时验证</title>
		<style>
			#error{
				color:red;
				font-weight:bold;
			}
		</style>
		<script type="text/javascript">
	  // Firefox, Google Chrome, Opera, Safari, Internet Explorer from version 9
			function OnInput (event) {
				//alert ("The new content: " + event.target.value);
				var value = event.target.value;
				checkusername(value);
			}
	  // Internet Explorer
			function OnPropChanged (event) {
			console.info(event)
				if (event.propertyName.toLowerCase () == "value") {
					var value = event.srcElement.value;
					checkusername(value);
				}
			} 
		//验证用户名方法(只能是数字字母和中文，不能包括特殊字符)
		function checkusername(value){
			var regex = /^[0-9a-zA-Z\u4e00-\u9fa5]*$/;
			if(regex.test(value) == true){
				//格式正确
				document.getElementById("error").innerHTML="";
			}else{
				//格式错误
				document.getElementById("error").innerHTML="用户名格式错误，用户名由数字、字母、中文组成，不能包含特殊字符";
			}
		}
		</script>
	</head>
	<body>
		请输入用户名：
		<input name="username" type="text" oninput="OnInput (event)" onpropertychange="OnPropChanged (event)" placeholder="数字、字母、汉字" /><label id="error"></label>
	</body>
</html>
``` 
其中event是Event 对象代表事件的状态，比如事件在其中发生的元素、键盘按键的状态、鼠标的位置、鼠标按钮的状态。简单说就是光标当前的位置。[详解](http://www.w3school.com.cn/jsref/dom_obj_event.asp)

当多个输入框时，OnInput (event，x)，OnPropChanged (event，x)，可通过所传形参x的不同控制不同输出效果

_*注意 *_ 

js中通过var定义变量，没有变量类型之分，如果是字符串类型，想获取其长度， 
>var s=new Array("hello");

>var num=s.length;//js中length是属性，不用写成方法length（）形式







## 存在问题
就是学得有点慢还比较浅



## 下周规划

加快html和css以及jsp与servlet的学习，完善登录页面的作业。并继续加深Java的学习



